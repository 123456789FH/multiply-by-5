<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ø§Ù„Ø¶Ø±Ø¨ ÙÙŠ Ù¥ - Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù„Ø«</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
    *{font-family:"Tajawal",system-ui,sans-serif}
    .card{box-shadow:0 18px 60px rgba(15,23,42,.12)}
    .btn{border-radius:18px;font-weight:800;padding:14px 18px}
    .pill{border-radius:999px;padding:6px 12px;font-weight:800;font-size:13px}
    .pop{animation:pop .35s ease-in-out}
    @keyframes pop{0%{transform:scale(.98)}60%{transform:scale(1.04)}100%{transform:scale(1)}}
    .shake{animation:shake .35s ease-in-out}
    @keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(6px)}50%{transform:translateX(-6px)}75%{transform:translateX(4px)}}

    .dot{width:24px;height:24px;border-radius:999px;background:radial-gradient(circle at 30% 30%, rgba(253,230,138,1), rgba(245,158,11,1));border:2px solid rgba(0,0,0,.08);box-shadow:0 6px 14px rgba(0,0,0,.10)}
    .miniDot{width:14px;height:14px;border-radius:999px;border:1.5px solid rgba(0,0,0,.10);background:radial-gradient(circle at 30% 30%, rgba(253,230,138,1), rgba(245,158,11,1))}
    .groupBox{border-radius:22px;border:2px solid rgba(236,72,153,.18);background:rgba(255,255,255,.85);padding:12px 14px}
    .numInput{width:88px;height:56px;text-align:center;font-size:26px;font-weight:900;border-width:4px;border-radius:18px;outline:none;background:#fff}
    .numInput:focus{box-shadow:0 0 0 6px rgba(236,72,153,.18)}
    .eqBox{min-width:70px;height:56px;display:flex;align-items:center;justify-content:center;border-width:4px;border-radius:18px;font-size:26px;font-weight:900;background:#fff}
    .nlWrap{border-radius:22px;border:2px solid rgba(99,102,241,.20);background:rgba(255,255,255,.90);padding:14px}
    @media(max-width:640px){
      .dot{width:21px;height:21px}
      .numInput{width:78px;height:54px;font-size:24px}
      .eqBox{min-width:62px;height:54px;font-size:24px}
    }
  </style>
</head>

<body class="min-h-screen bg-gradient-to-br from-amber-50 via-white to-emerald-50">
  <div class="max-w-6xl mx-auto px-4 py-6">
    <div class="bg-white/90 backdrop-blur rounded-3xl card p-6 border border-amber-100">
      <div class="text-center">
        <div class="text-2xl md:text-3xl font-extrabold text-slate-800">Ø§Ù„Ø¶Ù‘ÙØ±Ù’Ø¨Ù ÙÙÙŠ Ù¥</div>

        <div class="mt-3 grid md:grid-cols-2 gap-3 w-full max-w-4xl mx-auto">
          <div class="rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3">
            <div class="font-extrabold text-emerald-800">ÙÙÙƒÙ’Ø±ÙØ©Ù Ø§Ù„Ø¯Ù‘ÙØ±Ù’Ø³Ù</div>
            <div class="text-slate-700 font-bold mt-1">Ø£ÙØ¬ÙØ¯Ù Ù†Ø§ØªÙØ¬Ù Ø§Ù„Ø¶Ù‘ÙØ±Ù’Ø¨Ù ÙÙÙŠ Ø§Ù„Ø¹ÙØ¯ÙØ¯Ù Ù¥.</div>
          </div>
          <div class="rounded-2xl border border-purple-200 bg-purple-50 px-4 py-3">
            <div class="font-extrabold text-purple-800">ÙÙƒØ±Ø© Ø³Ø±ÙŠØ¹Ø©</div>
            <div class="text-slate-700 font-bold mt-1">Ù†Ø¹Ø¯Ù‘ Ø¨Ø§Ù„Ù€Ù¥: Ù¥ØŒ Ù¡Ù ØŒ Ù¡Ù¥ØŒ Ù¢Ù â€¦</div>
          </div>
        </div>

        <div class="mt-2 text-slate-600 leading-7">
          Ø§Ù„Ø¶Ø±Ø¨ ÙÙŠ Ù¥ ÙŠØ¹Ù†ÙŠ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ù…ØªØ³Ø§ÙˆÙŠØ©ØŒ ÙÙŠ ÙƒÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø© <b>Ù¥</b> Ø¹Ù†Ø§ØµØ±.
          ÙˆØªÙ„Ù…ÙŠØ­: Ù†ÙˆØ§ØªØ¬ Ø¬Ø¯ÙˆÙ„ Ù¥ ØªÙ†ØªÙ‡ÙŠ Ø¨Ù€ <b>Ù  Ø£Ùˆ Ù¥</b>.
        </div>
      </div>

      <div class="mt-6 flex flex-wrap gap-2 justify-center">
        <button id="tab-learn" class="btn bg-pink-600 text-white">ØªØ¹Ù„Ù…</button>
        <button id="tab-examples" class="btn bg-white text-slate-700 border-2 border-pink-200">Ø£Ù…Ø«Ù„Ø©</button>
        <button id="tab-practice" class="btn bg-white text-slate-700 border-2 border-pink-200">ØªØ¯Ø±Ø¨</button>
      </div>
    </div>

    <div class="mt-6">
      <!-- Learn -->
      <section id="section-learn" class="bg-white rounded-3xl card p-6 border border-amber-100">
        <div class="grid lg:grid-cols-2 gap-6 items-start">
          <div class="rounded-3xl border border-slate-200 bg-slate-50 p-5">
            <div class="font-extrabold text-slate-800 text-lg mb-2">Ø§Ø®ØªØ§Ø±ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª (ÙƒÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø© ÙÙŠÙ‡Ø§ Ù¥)</div>
            <div class="flex flex-wrap items-center gap-3">
              <label class="font-bold text-slate-700">Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª:</label>
              <input id="learnN" type="range" min="0" max="10" value="3" class="w-56"/>
              <span id="learnNVal" class="pill bg-white border border-slate-200 text-slate-700">Ù£</span>
              <span class="pill bg-white border border-purple-200 text-slate-700">ÙÙŠ ÙƒÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø©: Ù¥</span>
            </div>

            <div class="mt-4 grid md:grid-cols-2 gap-4">
              <div class="rounded-2xl bg-white border border-slate-200 p-4">
                <div class="font-extrabold text-slate-800 mb-2">Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ù¡: ØµÙˆØ±Ø© (Ù…Ø¬Ù…ÙˆØ¹Ø§Øª)</div>
                <div id="learnGroups" class="flex flex-wrap gap-3 justify-center"></div>
              </div>
              <div class="rounded-2xl bg-white border border-slate-200 p-4">
                <div class="font-extrabold text-slate-800 mb-2">Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ù¢: Ø¹Ø¯Ù‘ Ø¨Ø§Ù„Ù€Ù¥</div>
                <div id="learnSkip" class="text-slate-700 font-bold leading-8"></div>
              </div>
            </div>

            <div class="mt-4 rounded-2xl bg-white border border-slate-200 p-4">
              <div class="font-extrabold text-slate-800 mb-2">Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ù£: Ø®Ø· Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ (Ù‚ÙØ²Ø§Øª Ù¥)</div>
              <div class="nlWrap"><div id="learnLine"></div></div>
            </div>
          </div>

          <div class="rounded-3xl border border-emerald-100 bg-white p-5">
            <div class="font-extrabold text-slate-800 text-lg mb-2">Ø§ÙƒØªØ¨ÙŠ Ø¬Ù…Ù„Ø© Ø§Ù„Ø¶Ø±Ø¨</div>
            <div class="text-slate-600 mb-3">Ù†ÙƒØªØ¨Ù‡Ø§ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ: <span dir="ltr" class="font-extrabold text-purple-700">Ø§Ù„Ù†Ø§ØªØ¬ = Ù¥ Ã— Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª</span></div>

            <div class="flex flex-wrap items-center justify-center gap-3" dir="rtl">
              <div id="learnProduct" class="eqBox border-pink-500 text-slate-800"></div>
              <div class="eqBox border-slate-200 text-slate-600" dir="ltr">=</div>
              <div class="eqBox border-pink-500 text-slate-800">Ù¥</div>
              <div class="eqBox border-slate-200 text-slate-600" dir="ltr">Ã—</div>
              <div id="learnFactor" class="eqBox border-pink-500 text-slate-800"></div>
            </div>

            <div class="mt-4 rounded-2xl border border-purple-200 bg-purple-50 p-4 text-slate-700 leading-7">
              <div class="font-extrabold text-purple-800 mb-1">Ø¹Ù„Ø§Ù‚Ø© Ø¬Ø¯ÙˆÙ„ Ù¥ ÙˆØ¬Ø¯ÙˆÙ„ Ù¡Ù </div>
              <div>Ù†Ø§ØªØ¬ (Ù¥Ã—n) Ù‡Ùˆ <b>Ù†ØµÙ</b> Ù†Ø§ØªØ¬ (Ù¡Ù Ã—n).</div>
              <div class="mt-2" dir="ltr"><span class="font-extrabold text-emerald-700">Ù¥Ã—n</span> = <span class="font-extrabold text-purple-700">Ù¡Ù Ã—n</span> Ã· Ù¢</div>
            </div>

            <div class="mt-3 rounded-2xl border border-amber-200 bg-amber-50 p-4 text-slate-700 leading-7">
              <div class="font-extrabold text-amber-800 mb-1">ØªÙ„Ù…ÙŠØ­ Ø§Ù„Ù†Ù‡Ø§ÙŠØ§Øª</div>
              <div>Ù†ÙˆØ§ØªØ¬ Ø§Ù„Ø¶Ø±Ø¨ ÙÙŠ Ù¥ ØªÙ†ØªÙ‡ÙŠ Ø¨Ù€ <b>Ù </b> Ø£Ùˆ <b>Ù¥</b>.</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Examples -->
      <section id="section-examples" class="hidden bg-white rounded-3xl card p-6 border border-amber-100">
        <div class="flex items-center justify-between flex-wrap gap-2 mb-4">
          <div class="font-extrabold text-xl text-slate-800">Ø£Ù…Ø«Ù„Ø© Ù…Ø­Ù„ÙˆÙ„Ø©</div>
          <div class="text-sm text-slate-500">Ø§Ø¶ØºØ·ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø«Ø§Ù„ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø­Ù„</div>
        </div>
        <div id="examplesList" class="grid md:grid-cols-2 gap-4"></div>
      </section>

      <!-- Practice -->
      <section id="section-practice" class="hidden bg-white rounded-3xl card p-6 border border-amber-100">
        <div class="flex flex-wrap items-center justify-between gap-3">
          <div>
            <div class="font-extrabold text-xl text-slate-800">ØªØ¯Ø±ÙŠØ¨: Ø§Ù„Ø¶Ø±Ø¨ ÙÙŠ Ù¥</div>
            <div class="text-slate-600">Ø´Ø§Ù‡Ø¯ÙŠ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø«Ù… Ø§ÙƒØªØ¨ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ÙˆØ§Ù„Ù†Ø§ØªØ¬.</div>
          </div>
          <div class="rounded-2xl bg-slate-50 border border-slate-200 px-4 py-3">
            <div class="font-bold text-slate-700">Ø§Ù„Ù†ØªÙŠØ¬Ø©</div>
            <div class="text-slate-700">â­ <span id="score">Ù </span> / <span id="total">Ù </span></div>
          </div>
        </div>

        <div class="mt-6 grid lg:grid-cols-2 gap-6 items-start">
          <div class="rounded-3xl border border-pink-100 bg-gradient-to-b from-white to-pink-50 p-5">
            <div class="flex items-center justify-between mb-3">
              <div class="font-extrabold text-slate-800">Ø§Ù„Ù†Ù…ÙˆØ°Ø¬</div>
              <button id="btnNew" class="btn bg-purple-600 text-white">Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯</button>
            </div>

            <div id="practicePrompt" class="text-slate-700 font-bold text-center mb-3"></div>
            <div id="practiceModel" class="flex flex-wrap justify-center gap-3"></div>

            <div class="mt-5 rounded-2xl bg-white border border-slate-200 p-4">
              <div class="font-extrabold text-slate-800 text-center mb-2">Ø§ÙƒØªØ¨ÙŠ Ø§Ù„Ù†Ø§ØªØ¬:</div>

              <div class="flex flex-wrap items-center justify-center gap-3" dir="rtl">
                <input id="inP" class="numInput border-pink-500 text-slate-800" inputmode="numeric" maxlength="3" placeholder="ØŸ" />
                <div class="eqBox border-slate-200 text-slate-600" dir="ltr">=</div>
                <input class="numInput border-pink-500 text-slate-800" value="Ù¥" disabled />
                <div class="eqBox border-slate-200 text-slate-600" dir="ltr">Ã—</div>
                <input id="inN" class="numInput border-pink-500 text-slate-800" inputmode="numeric" maxlength="2" placeholder="ØŸ" />
              </div>

              <div class="mt-3 text-center text-sm text-slate-500">
                Ø§ÙƒØªØ¨ÙŠÙ‡Ø§: <span dir="ltr" class="font-extrabold text-purple-700">Ø§Ù„Ù†Ø§ØªØ¬ = Ù¥ Ã— Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª</span>
              </div>

              <div class="mt-4 flex gap-3 justify-center">
                <button id="btnCheck" class="btn bg-emerald-600 text-white w-44">ØªØ­Ù‚Ù‚ âœ…</button>
                <button id="btnHint" class="btn bg-white border-2 border-purple-200 text-slate-700 w-44">ØªÙ„Ù…ÙŠØ­ ğŸ’¡</button>
              </div>

              <div class="mt-3 flex justify-center">
                <button id="btnShow" class="btn bg-white border-2 border-slate-200 text-slate-700 w-72">Ø£Ø¸Ù‡Ø± Ø§Ù„Ø­Ù„</button>
              </div>
            </div>
          </div>

          <div class="rounded-3xl border border-slate-200 bg-white p-5">
            <div class="font-extrabold text-slate-800 mb-2">Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø±Ø§Ø¬Ø¹Ø© ÙˆØ§Ù„Ø´Ø±Ø­</div>
            <div id="feedback" class="text-slate-700 leading-7">
              Ø§ÙƒØªØ¨ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ÙˆØ§Ù„Ù†Ø§ØªØ¬ Ø«Ù… Ø§Ø¶ØºØ·ÙŠ <b>ØªØ­Ù‚Ù‚</b>. ØªØ°ÙƒØ±ÙŠ: Ø§Ù„Ù†Ø§ØªØ¬ ÙŠÙ†ØªÙ‡ÙŠ Ø¨Ù€ Ù  Ø£Ùˆ Ù¥.
            </div>
          </div>
        </div>
      </section>
    </div>

    <div class="mt-8 text-center text-slate-600">
      <div class="bg-white/80 inline-block px-4 py-3 rounded-2xl border border-slate-200">
        <span class="font-bold">Ø£/ ÙØ§Ø·Ù…Ø© Ù‡Ø²Ø§Ø²ÙŠ</span> â€¢ Ù…Ù„ØªÙ‚Ù‰ Ù…Ø¹Ù„Ù…ÙŠ ÙˆÙ…Ø¹Ù„Ù…Ø§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª â€¢ Ø§Ù„Ù…Ù„ØªÙ‚Ù‰ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ
      </div>
    </div>
  </div>

  <script>
    const ar=['Ù ','Ù¡','Ù¢','Ù£','Ù¤','Ù¥','Ù¦','Ù§','Ù¨','Ù©'];
    const toArabic=(n)=>{if(!Number.isFinite(n))return '';return String(Math.trunc(n)).split('').map(ch=>{if(ch==='-')return 'âˆ’';const d=ch.charCodeAt(0)-48;return (d>=0&&d<=9)?ar[d]:ch;}).join('');};
    const normDigits=(str)=>{if(str==null)return "";const map={'Ù ':'0','Ù¡':'1','Ù¢':'2','Ù£':'3','Ù¤':'4','Ù¥':'5','Ù¦':'6','Ù§':'7','Ù¨':'8','Ù©':'9','Û°':'0','Û±':'1','Û²':'2','Û³':'3','Û´':'4','Ûµ':'5','Û¶':'6','Û·':'7','Û¸':'8','Û¹':'9'};return String(str).trim().split('').map(ch=>map[ch]??ch).join('');};
    const randInt=(min,max)=>Math.floor(Math.random()*(max-min+1))+min;

    // Tabs
    const tabs=[{btn:'tab-learn',sec:'section-learn'},{btn:'tab-examples',sec:'section-examples'},{btn:'tab-practice',sec:'section-practice'}];
    function setTab(active){
      tabs.forEach(t=>{
        const b=document.getElementById(t.btn), s=document.getElementById(t.sec);
        const on=t.btn===active;
        s.classList.toggle('hidden',!on);
        b.className=on?'btn bg-pink-600 text-white':'btn bg-white text-slate-700 border-2 border-pink-200';
      });
    }
    document.getElementById('tab-learn').onclick=()=>setTab('tab-learn');
    document.getElementById('tab-examples').onclick=()=>setTab('tab-examples');
    document.getElementById('tab-practice').onclick=()=>setTab('tab-practice');

    function renderGroups(container,n){
      container.innerHTML='';
      if(n===0){
        const box=document.createElement('div');
        box.className='rounded-2xl bg-white border border-slate-200 px-4 py-3 text-slate-700 font-bold';
        box.textContent='Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª (Ù ).';
        container.appendChild(box);
        return;
      }
      for(let i=0;i<n;i++){
        const g=document.createElement('div');
        g.className='groupBox';
        g.innerHTML=`<div class="text-slate-700 font-extrabold text-sm mb-2">Ù…Ø¬Ù…ÙˆØ¹Ø© ${toArabic(i+1)}</div>
          <div class="flex gap-2 justify-center">
            <div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div>
          </div>`;
        container.appendChild(g);
      }
    }

    function renderSkip(container,n){
      const total=n*5;
      if(n===0){container.innerHTML=`Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ø¯Ù‘. Ø§Ù„Ù†Ø§ØªØ¬ <b>${toArabic(0)}</b>.`;return;}
      const seq=[]; for(let i=1;i<=n;i++) seq.push(i*5);
      container.innerHTML=`<div>Ø£Ø¹Ø¯Ù‘ Ø¨Ø§Ù„Ù€Ù¥: <span dir="ltr" class="font-extrabold text-purple-700">${seq.map(toArabic).join(' ØŒ ')}</span></div>
        <div class="mt-2">Ø¥Ø°Ù† Ø§Ù„Ù†Ø§ØªØ¬ = <b class="text-emerald-700">${toArabic(total)}</b></div>
        <div class="mt-2 text-slate-600">Ø§Ù„Ù†Ù‡Ø§ÙŠØ§Øª: ${toArabic(total)} ØªÙ†ØªÙ‡ÙŠ Ø¨Ù€ <b>${toArabic(total%10)}</b>.</div>`;
    }

    function renderNumberLine(target,n){
      const max=Math.max(10,n*5);
      const width=560,height=130,pad=35,x0=pad,x1=width-pad,y=80,steps=max,dx=(x1-x0)/steps;

      const ticks=[];
      for(let i=0;i<=steps;i++){
        const x=x0+dx*i;
        const major=(i%5===0);
        ticks.push(`<line x1="${x}" y1="${y-(major?12:8)}" x2="${x}" y2="${y+(major?12:8)}" stroke="#0f172a" stroke-width="${major?3:2}" opacity="${major?1:0.55}"/>${major?`<text x="${x}" y="${y+36}" font-size="16" font-weight="800" text-anchor="middle" fill="#0f172a">${toArabic(i)}</text>`:''}`);
      }

      const arcs=[];
      for(let k=0;k<n;k++){
        const a=5*k,b=5*(k+1),xa=x0+dx*a,xb=x0+dx*b,mid=(xa+xb)/2,arcH=32+(k%2)*8;
        arcs.push(`<path d="M ${xa} ${y-4} Q ${mid} ${y-arcH} ${xb} ${y-4}" fill="none" stroke="#ef4444" stroke-width="3"/><polygon points="${xb-8},${y-10} ${xb+2},${y-4} ${xb-8},${y+2}" fill="#ef4444"/>`);
      }

      target.innerHTML=`<svg width="100%" viewBox="0 0 ${width} ${height}" role="img" aria-label="Ø®Ø· Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯">
        <line x1="${x0}" y1="${y}" x2="${x1}" y2="${y}" stroke="#f59e0b" stroke-width="6" stroke-linecap="round"/>
        ${ticks.join('')}${arcs.join('')}
      </svg>`;
    }

    function updateLearn(n){
      document.getElementById('learnNVal').textContent=toArabic(n);
      renderGroups(document.getElementById('learnGroups'),n);
      renderSkip(document.getElementById('learnSkip'),n);
      document.getElementById('learnFactor').textContent=toArabic(n);
      document.getElementById('learnProduct').textContent=toArabic(n*5);
      renderNumberLine(document.getElementById('learnLine'),n);
    }
    const learnN=document.getElementById('learnN');
    learnN.addEventListener('input',()=>updateLearn(parseInt(learnN.value,10)));
    updateLearn(parseInt(learnN.value,10));

    // Examples
    const exampleBank=[{n:2,text:"Ø£ÙƒØ±Ø± Ø§Ù„Ø¹Ø¯Ø¯ Ù¥ Ù…Ø±ØªÙŠÙ†."},{n:3,text:"Ø£Ø¹Ø¯ Ù‚ÙØ²Ù‹Ø§ Ø¨Ø§Ù„Ù€Ù¥ Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª."},{n:4,text:"Ø£Ø³ØªØ¹Ù…Ù„ Ø®Ø· Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯: Ù¤ Ù‚ÙØ²Ø§Øª Ù…Ù‚Ø¯Ø§Ø±Ù‡Ø§ Ù¥."},{n:6,text:"Ø£Ø³ØªØ¹Ù…Ù„ Ø¹Ù„Ø§Ù‚Ø© Ù¥ ÙˆÙ¡Ù : Ù†ØµÙ Ù¡Ù Ã—Ù¦."}];
    function miniModel(n){
      if(n===0) return `<div class="rounded-2xl bg-white border border-slate-200 px-4 py-3 font-bold text-slate-700">Ù </div>`;
      return `<div class="flex flex-wrap gap-3 justify-center">${Array.from({length:n},(_,i)=>`
        <div class="rounded-2xl border border-slate-200 bg-white px-3 py-2 text-center">
          <div class="text-xs font-extrabold text-slate-700">Ù…Ø¬Ù…ÙˆØ¹Ø© ${toArabic(i+1)}</div>
          <div class="mt-2 flex gap-2 justify-center">${'<div class="miniDot"></div>'.repeat(5)}</div>
        </div>`).join('')}</div>`;
    }
    function renderExamples(){
      const container=document.getElementById('examplesList');
      container.innerHTML='';
      exampleBank.forEach((ex,idx)=>{
        const total=ex.n*5;
        const seq=Array.from({length:ex.n},(_,i)=>toArabic((i+1)*5)).join(' ØŒ ');
        const ten = ex.n*10;
        const relation = `Ù¡Ù Ã—${toArabic(ex.n)} = ${toArabic(ten)} Ø«Ù… Ù†ØµÙÙ‡ = ${toArabic(total)}`;
        const card=document.createElement('div');
        card.className='rounded-3xl border border-slate-200 bg-slate-50 p-5 cursor-pointer hover:shadow-lg transition';
        card.innerHTML=`
          <div class="font-extrabold text-slate-800 mb-2">Ù…Ø«Ø§Ù„ ${toArabic(idx+1)}</div>
          <div class="text-slate-700 leading-7">${ex.text}</div>
          <div class="mt-3">${miniModel(ex.n)}</div>
          <div id="ex-${idx}" class="hidden mt-4 rounded-2xl bg-white border border-slate-200 p-4 text-slate-700 leading-7">
            <div class="font-extrabold text-slate-800 mb-2">Ø§Ù„Ø­Ù„</div>
            <div><b>Ø§Ù„Ø¹Ø¯ Ø¨Ø§Ù„Ù€Ù¥:</b> <span dir="ltr" class="font-extrabold text-purple-700">${seq || toArabic(0)}</span></div>
            <div class="mt-2"><b>Ø¬Ù…Ù„Ø© Ø§Ù„Ø¶Ø±Ø¨:</b> <span dir="ltr" class="font-extrabold text-emerald-700">Ù¥ Ã— ${toArabic(ex.n)} = ${toArabic(total)}</span></div>
            <div class="mt-3 rounded-2xl bg-purple-50 border border-purple-200 p-3">
              <b>Ø¹Ù„Ø§Ù‚Ø© Ø¬Ø¯ÙˆÙ„ Ù¥ ÙˆØ¬Ø¯ÙˆÙ„ Ù¡Ù :</b><br/>${relation}
            </div>
          </div>
          <div class="mt-3 text-sm text-pink-600 font-bold">Ø§Ø¶ØºØ·ÙŠ Ù„Ø¹Ø±Ø¶/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø­Ù„</div>
        `;
        card.onclick=()=>document.getElementById(`ex-${idx}`).classList.toggle('hidden');
        container.appendChild(card);
      });
    }
    renderExamples();

    // Practice
    let pstate={n:3,score:0,total:0,locked:false};
    const scoreEl=document.getElementById('score');
    const totalEl=document.getElementById('total');
    const feedbackEl=document.getElementById('feedback');

    function animateFeedback(kind){feedbackEl.classList.remove('shake','pop');void feedbackEl.offsetWidth;feedbackEl.classList.add(kind==='good'?'pop':'shake');}
    function setFeedback(html,kind){feedbackEl.innerHTML=html;animateFeedback(kind);}

    function clearInputs(){['inP','inN'].forEach(id=>document.getElementById(id).value='');}
    function practiceGen(){
      pstate.n=randInt(0,10);
      pstate.locked=false;
      document.getElementById('practicePrompt').textContent=`${toArabic(pstate.n)} Ù…Ø¬Ù…ÙˆØ¹Ø§ØªØŒ ÙÙŠ ÙƒÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù¥.`;
      renderGroups(document.getElementById('practiceModel'),pstate.n);
      clearInputs();
      setFeedback('Ø§ÙƒØªØ¨ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ÙˆØ§Ù„Ù†Ø§ØªØ¬ Ø«Ù… Ø§Ø¶ØºØ·ÙŠ <b>ØªØ­Ù‚Ù‚</b>. ØªØ°ÙƒØ±ÙŠ: Ø§Ù„Ù†ÙˆØ§ØªØ¬ ØªÙ†ØªÙ‡ÙŠ Ø¨Ù€ Ù  Ø£Ùˆ Ù¥.','good');
    }
    function readNum(id){const raw=normDigits(document.getElementById(id).value).replace(/\D/g,'');return raw===''?null:parseInt(raw,10);}
    function check(){
      if(pstate.locked) return;
      const pIn=readNum('inP'), nIn=readNum('inN');
      if(pIn===null||nIn===null){setFeedback('âš ï¸ Ø§ÙƒØªØ¨ÙŠ Ø§Ù„Ø¹Ø¯Ø¯ÙŠÙ† (Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ÙˆØ§Ù„Ù†Ø§ØªØ¬).','bad');return;}
      const correct=(nIn===pstate.n)&&(pIn===pstate.n*5);
      pstate.total+=1; if(correct) pstate.score+=1;
      scoreEl.textContent=toArabic(pstate.score); totalEl.textContent=toArabic(pstate.total);
      pstate.locked=true;
      if(correct){
        setFeedback(`<div class="font-extrabold text-emerald-700 text-lg">Ø£Ø­Ø³Ù†ØªÙ! âœ…</div>
          <div class="mt-2"><b>Ø¬Ù…Ù„Ø© Ø§Ù„Ø¶Ø±Ø¨:</b> <span dir="ltr" class="font-extrabold text-purple-700">Ù¥ Ã— ${toArabic(pstate.n)} = ${toArabic(pstate.n*5)}</span></div>
          <div class="mt-2 text-slate-600">Ø§Ù†Ø¸Ø±ÙŠ Ù„Ù„Ù†Ù‡Ø§ÙŠØ©: Ø§Ù„Ù†Ø§ØªØ¬ ÙŠÙ†ØªÙ‡ÙŠ Ø¨Ù€ ${toArabic((pstate.n*5)%10)}.</div>`,'good');
      } else {
        setFeedback(`<div class="font-extrabold text-rose-700 text-lg">Ø­Ø§ÙˆÙ„ÙŠ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ ğŸ’¡</div>
          <div class="mt-2"><b>Ø§Ù„ØµØ­ÙŠØ­:</b> <span dir="ltr" class="font-extrabold text-purple-700">Ù¥ Ã— ${toArabic(pstate.n)} = ${toArabic(pstate.n*5)}</span></div>
          <div class="mt-2">Ø¹Ø¯Ù‘ÙŠ Ø¨Ø§Ù„Ù€Ù¥: <span dir="ltr">${Array.from({length:pstate.n},(_,i)=>toArabic((i+1)*5)).join(' ØŒ ') || toArabic(0)}</span></div>`,'bad');
      }
    }
    function hint(){
      const ten = pstate.n*10;
      setFeedback(`<div class="font-extrabold text-slate-800">ØªÙ„Ù…ÙŠØ­ ğŸ’¡</div>
        <div class="mt-1">Ø¹Ø¯Ù‘ÙŠ Ø¨Ø§Ù„Ù€Ù¥: <span dir="ltr" class="font-extrabold text-purple-700">${Array.from({length:pstate.n},(_,i)=>toArabic((i+1)*5)).join(' ØŒ ') || toArabic(0)}</span></div>
        <div class="mt-2">Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù…ÙŠ Ø¹Ù„Ø§Ù‚Ø© Ù¡Ù : Ù¡Ù Ã—${toArabic(pstate.n)}=${toArabic(ten)} Ø«Ù… Ù†ØµÙÙ‡ = ${toArabic(pstate.n*5)}.</div>`,'good');
    }
    function show(){
      const ten = pstate.n*10;
      setFeedback(`<div class="font-extrabold text-slate-800">Ø§Ù„Ø­Ù„ âœ…</div>
        <div class="mt-2"><b>Ø§Ù„Ù†Ø§ØªØ¬:</b> ${toArabic(pstate.n*5)}</div>
        <div><b>Ø¬Ù…Ù„Ø© Ø§Ù„Ø¶Ø±Ø¨:</b> <span dir="ltr" class="font-extrabold text-purple-700">Ù¥ Ã— ${toArabic(pstate.n)} = ${toArabic(pstate.n*5)}</span></div>
        <div class="mt-2 text-slate-600">Ø¹Ù„Ø§Ù‚Ø© Ù¥ ÙˆÙ¡Ù : Ù¡Ù Ã—${toArabic(pstate.n)}=${toArabic(ten)} Ø«Ù… Ù†ØµÙÙ‡ = ${toArabic(pstate.n*5)}.</div>`,'good');
    }

    document.getElementById('btnNew').onclick=practiceGen;
    document.getElementById('btnCheck').onclick=check;
    document.getElementById('btnHint').onclick=hint;
    document.getElementById('btnShow').onclick=show;

    ['inP','inN'].forEach(id=>{
      const el=document.getElementById(id);
      el.addEventListener('input',()=>{
        const raw=normDigits(el.value).replace(/\D/g,'');
        const maxLen=(id==='inP')?3:2;
        el.value=raw.slice(0,maxLen);
      });
      el.addEventListener('keydown',(e)=>{if(e.key==='Enter') check();});
    });

    scoreEl.textContent=toArabic(0);
    totalEl.textContent=toArabic(0);
    practiceGen();
    setTab('tab-learn');
  </script>
</body>
</html>
